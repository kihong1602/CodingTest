# Programmers 22

> level2 kakao 캐시
> <br/>
> [링크](https://school.programmers.co.kr/learn/courses/30/lessons/17680)

## 문제

캐시 크기 `cacheSize`와 도시 이름 배열 `cities`가 주어진다.

`LRU`알고리즘을 사용해 `cache hit`일 경우 실행시간은 1, `cache miss`일 경우 실행시간은 5이다.

캐시를 적용했을 때 캐시 크기에 따른 총 실행 시간을 구하는 문제다.

## 풀이

문제에서 `LRU`알고리즘을 사용해 캐시를 구현하라고 했다.

`LRU` 알고리즘은 가장 오랫동안 참조되지 않은 캐시 데이터를 교체하는 기법이다.

자주 참조된 데이터를 뒤로 보내고, 오랫동안 참조되지 않은 데이터를 앞으로 보낸다.

이러한 동작을 효과적으로 구현하기 위해 양방향 접근이 가능한 `ArrayDeque`를 활용했다.

또한, 캐시 크기가 0 ~ 30으로 제한되어 있으므로 ,캐시 크기가 0인 경우 캐싱을 못하는 예외 처리를 추가했다.

## 해결 전략

- `cacheSize == 0`일 경우, 캐싱을 할 수 없으므로 도시 이름 배열 크기 * cache miss time 을 반환하고 종료한다.
- `ArrayDeque`로 `cache`를 초기화한다.
- `cities`를 순회하며 실행 시간을 계산한다.
    - 도시 이름 `city`는 영문으로 구성되어있으며, 대소문자를 구분하지 않으므로 `toLowerCase()`로 모두 소문자로 변환시킨다.
    - `cache`에 `city`가 존재한다면 결과값 `time`에 실행시간 1을 추가하고, 참조 되었으므로 순서를 맨 뒤로 보낸다.
    - 존재하지 않는다면 `time`에 실행시간 5을 추가하고, `cache`에 `city`를 추가한다.
    - 만약 `cache`의 크기가 `cacheSize`와 같거나 커졌다면 `cache`의 맨 앞에 저장된 데이터를 삭제한다.
- 계산이 끝난 결과값 `time`을 반환한다.