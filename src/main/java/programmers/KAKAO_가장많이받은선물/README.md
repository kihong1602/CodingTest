# Programmers 04

> KAKAO 가장 많이 받은 선물
> <br/>
> [링크](https://school.programmers.co.kr/learn/courses/30/lessons/258712)

## 문제

이번 달까지 친구들이 주고받은 선물 기록을 바탕으로, 다음 달에 누가 가장 많은 선물을 받을지 예측하는 문제다.

문제는 아래와 같은 규칙을 따른다:

1. 두 사람이 선물을 주고받은 기록이 있다면, 이번 달에 더 많은 선물을 준 사람이 다음 달에 선물을 1개 받는다.
2. 두 사람이 선물을 주고받은 기록이 없거나 주고받은 수가 같다면, 선물 지수가 높은 사람이 선물을 1개 받는다.
    - 선물 지수는 자신이 친구들에게 준 선물의 수에서 받은 선물의 수를 뺀 값으로 계산한다.
3. 두 사람의 선물 지수까지 같다면, 선물을 주고받지 않는다.

위 규칙을 바탕으로 다음 달에 가장 많은 선물을 받을 친구가 받을 선물의 수를 계산한다.

## 풀이

1. 주어진 `gifts` 배열을 이용해 각 친구의 선물 지수를 계산한다.
    - `giftCount` 맵을 생성하여 각 친구의 선물 지수를 관리한다.
    - `giver`가 `receiver`에게 선물을 주면, `giver`의 선물 지수는 +1, `receiver`의 선물 지수는 -1로 갱신한다.
2. 친구 간의 선물 주고받은 기록을 관리한다.
    - `giftLog` 맵을 생성하여 두 친구 간의 선물 주고받은 횟수를 기록한다.
    - 기록은 `A-B`와 같은 문자열 키로 저장하여 양방향 관계를 관리한다.
3. 다음 달 선물 횟수를 계산한다.
    - `nextMonths` 맵을 생성하여 각 친구가 다음 달에 받을 선물 횟수를 저장한다.
    - 각 친구 쌍에 대해 선물 주고받은 기록과 선물 지수를 비교하여 규칙에 따라 선물을 받을 친구를 결정한다.
4. `nextMonths` 맵을 순회하며 가장 많은 선물을 받을 친구의 선물 횟수를 반환한다.

## 해결 전략

1. 선물 기록 처리
    - 각 친구가 받은 선물과 준 선물을 기록하고, 친구 간의 주고받은 선물 횟수를 `giftLog`로 관리한다.
    - 선물 지수는 `giftCount`로 계산한다.
2. 다음 달 선물 계산
    - 모든 친구 쌍을 비교하여 다음 달에 선물을 받을 친구를 결정한다.
    - 선물을 주고받은 기록이 많으면 해당 기록을 기준으로, 기록이 없거나 같다면 선물 지수를 기준으로 선물을 받는 친구를 결정한다.
3. 최대 선물 횟수 계산
    - 계산된 `nextMonths` 맵을 순회하며, 가장 많은 선물을 받은 친구의 선물 횟수를 반환한다.

