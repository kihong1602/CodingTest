# Problem 060

> BOJ 1219 오민식의 고민
> <br/>
> [링크](https://www.acmicpc.net/problem/1219)

## 문제

세일즈맨인 오민식은 물건을 최대한 많이 팔아서 최대 이윤을 남기려고 한다.

N개의 도시가 있고, A도시에서 시작해 B도시로 끝나는 여행을 계획 중이다.

각 도시를 방문할 때마다 고정된 금액을 벌 수 있고, 도시간 이동에는 일정 비용이 소모된다.

도착 도시에 도달할 때, 가지고 있는 돈의 최대 액수를 구하는 프로그램을 작성하는 문제다.

도착도시에 도달하지 못하는 경우 'gg', 도착도시에 무한히 많은 돈을 가지고 도달할 수 있는 경우 'Gee'를 응답한다.

## 풀이

이 문제는 `벨만-포드` 알고리즘을 변형해 풀이할 수 있다. 단, 기존 `벨만-포드`알고리즘은 최단 거리를 구하기 위한 알고리즘으로, 변형이 필요하다.

- 최댓값 갱신
    - `벨만-포드`는 최소 비용을 갱신하지만, 이 문제는 최대 금액을 갱신해야 하므로 갱신 조건을 반대로 설정해야한다.
- 초기화
    - 기존엔 `distance`배열을 `MAX_VALUE`로 초기화 했지만, 최대 금액을 구해야하므로 `MIN_VALUE`로 초기화 해야한다.
- 양수 사이클 탐지
    - 무한히 많은 돈을 가질 수 있는지 체크해야 하므로, 음수 사이클이 아닌 양수 사이클을 탐지해야한다.
- 도달 가능성 확인
    - 도착도시에 도달하지 못할 경우를 처리해야하므로 DFS 또는 BFS를 통한 확인 작업이 필요하다.

## 해결 전략

- `distance[start]`를 시작도시의 수익인 `earning[start]`로 초기화하고, 나머지는 `Long.MIN_VALUE`로 초기화한다.
- 최대 금액을 계산하기 위해 N-1 번 반복하며 금액을 갱신한다.
- 다시 그래프를 순회하며 값이 갱신되는 경우, 도달 여부를 체크하기 위한 큐에 삽입한다.
- 큐를 기반으로 BFS를 통해 도착 도시에 도달할 수 있는지 체크한다.
- 도착도시에 도달할 수 없다면 'gg', 양수 사이클에 영향을 받고, 도착도시에 도달가능하다면 'Gee'를 출력한다.
    - 예외상황이 포함되지 않고 정상적으로 도달한다면, 최대 금액을 출력한다.